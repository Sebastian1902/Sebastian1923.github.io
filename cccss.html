<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Kat - Asistente Virtual</title>
  <style>
    body {
      margin: 0;
      font-family: sans-serif;
      background-color: #1c0731;
      color: white;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }
    .container {
      text-align: center;
      max-width: 320px;
    }
    h1, h2, h3, p {
      color: white;
    }
    .button {
      display: block;
      width: 100%;
      padding: 12px;
      margin: 10px 0;
      background-color: #2a4a72;
      border: none;
      border-radius: 8px;
      color: white;
      font-size: 16px;
      cursor: pointer;
      transition: background 0.3s ease;
    }
    .button:hover {
      background-color: #3b6ca3;
    }
    .screen {
      display: none;
    }
    .active {
      display: block;
    }
    img {
      width: 150px;
      margin: 20px auto;
    }
    a {
      color: #00aaff;
      text-decoration: none;
    }
    .slider {
      width: 100%;
    }
    input {
      padding: 10px;
      margin: 10px 0;
      width: 90%;
      font-size: 16px;
      border-radius: 8px;
      border: none;
    }
  </style>
</head>
<body>
  <div class="container">

    <!-- Pantalla 0: Iniciar sesi칩n -->
    <div id="screen0" class="screen active">
      <h1>Iniciar sesi칩n en Kat</h1>
      <img src="logo-gato.png" alt="Kat">
      <button class="button" onclick="nextScreen('screen1')">Iniciar sesi칩n con correo electr칩nico</button>
      <button class="button" onclick="nextScreen('screen1')">Iniciar sesi칩n con Gmail</button>
      <button class="button" onclick="nextScreen('screen1')">Iniciar sesi칩n con n칰mero de tel칠fono</button>
      <button class="button" onclick="nextScreen('screen1')">Iniciar sesi칩n con Microsoft</button>
      <p>쯅o tienes una cuenta? <a href="#" onclick="nextScreen('screen1')">Reg칤strate aqu칤</a></p>
    </div>

    <!-- Pantalla 1: Presentaci칩n -->
    <div id="screen1" class="screen">
      <h1>춰Hola! Soy Kat, tu asistente virtual</h1>
      <img src="logo-gato.png" alt="Kat">
      <button class="button" onclick="nextScreen('screen2')">Siguiente</button>
      <button class="button" onclick="nextScreen('screen0')">Atr치s</button>
    </div>

    <!-- Pantalla 2: Introducci칩n -->
    <div id="screen2" class="screen">
      <h2>Hola, soy Kat. Estoy aqu칤 para ayudarte. Vamos a hacer todo pasito a pasito, 쯥칤?</h2>
      <button class="button" onclick="nextScreen('screen3')">S칤</button>
      <button class="button" onclick="nextScreen('screen1')">Atr치s</button>
    </div>

    <!-- Pantalla 3: Selecci칩n de discapacidad -->
    <div id="screen3" class="screen">
      <h2>쯈u칠 discapacidad tienes?</h2>
      <button class="button" onclick="nextScreen('screen_visual')">Discapacidad Visual</button>
      <button class="button" onclick="nextScreen('screen_auditiva')">Discapacidad Auditiva</button>
      <button class="button" onclick="nextScreen('screen_intelectual')">Discapacidad Intelectual</button>
      <button class="button" onclick="nextScreen('screen2')">Atr치s</button>
    </div>

    <!-- Discapacidad Visual -->
    <div id="screen_visual" class="screen">
      <h2>쮻eseas usar chat de voz?</h2>
      <button class="button" onclick="nextScreen('screen_visual_chat')">S칤</button>
      <button class="button" onclick="nextScreen('screen3')">No</button>
    </div>

    <div id="screen_visual_chat" class="screen">
      <h2>Chat de voz activado</h2>
      <p>Habla ahora y Kat te responder치.</p>
      <div id="voice-chat">
        <button class="button" onclick="startVoice()">游꿗 Hablar</button>
        <p id="transcript"></p>
      </div>
      <button class="button" onclick="nextScreen('screen_visual')">Atr치s</button>
    </div>

    <!-- Discapacidad Auditiva -->
    <div id="screen_auditiva" class="screen">
      <h2>쯃ees bien el texto en pantalla?</h2>
      <button class="button" onclick="nextScreen('screen_auditiva_zoom')">S칤</button>
      <button class="button" onclick="nextScreen('screen_auditiva_zoom')">No</button>
      <div>
        <h3>Ajusta el tama침o del texto</h3>
        <input type="range" min="14" max="30" value="16" class="slider" oninput="document.body.style.fontSize = this.value + 'px';">
      </div>
      <button class="button" onclick="nextScreen('screen3')">Atr치s</button>
    </div>

    <div id="screen_auditiva_zoom" class="screen">
      <h2>Texto ajustado seg칰n preferencia</h2>
      <button class="button" onclick="nextScreen('screen_auditiva_direccion')">Siguiente</button>
      <button class="button" onclick="nextScreen('screen_auditiva')">Atr치s</button>
    </div>

    <div id="screen_auditiva_direccion" class="screen">
      <h2>쮸 d칩nde te diriges?</h2>
      <input type="text" id="origen" placeholder="쮻칩nde est치s?" style="color:black;">
      <input type="text" id="destino" placeholder="쮸 d칩nde vas?" style="color:black;">
      <button class="button" onclick="mostrarRuta()">Mostrar ruta m치s r치pida</button>
      <button class="button" onclick="nextScreen('screen_auditiva_zoom')">Atr치s</button>
    </div>

    <div id="screen_ruta" class="screen">
      <h2>Ruta m치s r치pida:</h2>
      <p id="ruta-mostrar">Calculando...</p>
      <button class="button" onclick="alert('Conductor solicitado')">游뚱 Solicitar conductor</button>
      <button class="button" onclick="nextScreen('screen_auditiva_direccion')">Atr치s</button>
    </div>

    <!-- Discapacidad Intelectual -->
    <div id="screen_intelectual" class="screen">
      <h2>쯈uieres que la app solo use im치genes?</h2>
      <button class="button" onclick="nextScreen('screen_intelectual_img')">S칤</button>
      <button class="button" onclick="nextScreen('screen3')">No</button>
    </div>

    <div id="screen_intelectual_img" class="screen">
      <h2>Selecciona lo que deseas:</h2>
      <img src="ubicacion.png" alt="Ubicaci칩n" onclick="nextScreen('screen_auditiva_direccion')" style="cursor: pointer;">
      <img src="chat.png" alt="Hablar" onclick="nextScreen('screen_visual_chat')" style="cursor: pointer;">
      <button class="button" onclick="nextScreen('screen_intelectual')">Atr치s</button>
    </div>

  </div>

  <script>
    function nextScreen(id) {
      const screens = document.querySelectorAll('.screen');
      screens.forEach(screen => screen.classList.remove('active'));
      document.getElementById(id).classList.add('active');
    }

    function startVoice() {
      const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
      recognition.lang = 'es-ES';
      recognition.interimResults = false;
      recognition.maxAlternatives = 1;

      recognition.start();

      recognition.onresult = function (event) {
        const texto = event.results[0][0].transcript;
        document.getElementById("transcript").innerText = "T칰: " + texto;
        responderKat(texto);
      };

      recognition.onerror = function (event) {
        alert("Error en el reconocimiento de voz: " + event.error);
      };
    }

    function responderKat(texto) {
      let respuesta = "No entend칤 eso.";
      if (texto.includes("hola")) respuesta = "춰Hola! 쮺칩mo puedo ayudarte?";
      if (texto.includes("ruta")) respuesta = "쮸 d칩nde necesitas ir?";
      if (texto.includes("gracias")) respuesta = "춰De nada!";

      const synth = window.speechSynthesis;
      const utter = new SpeechSynthesisUtterance(respuesta);
      utter.lang = 'es-ES';
      synth.speak(utter);
    }

    function mostrarRuta() {
      const origen = document.getElementById("origen").value;
      const destino = document.getElementById("destino").value;
      if (origen && destino) {
        document.getElementById("ruta-mostrar").innerText = `Desde ${origen} hasta ${destino}: Ruta m치s r치pida encontrada.`;
        nextScreen("screen_ruta");
      } else {
        alert("Por favor, llena ambos campos.");
      }
    }

    document.addEventListener('DOMContentLoaded', () => {
  const slider = document.querySelector('.slider');
  slider.addEventListener('change', () => {
    nextScreen('screen_auditiva_direccion');
  });
});
  </script>
</body>
</html>